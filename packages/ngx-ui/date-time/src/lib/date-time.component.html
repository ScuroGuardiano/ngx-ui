<ng-template #dialogTpl>
  <div class="selected-header text-center">
    <h1>
      <span
        *ngIf="
          dialogModel &&
          (dateTimeInputType === 'datetime' || dateTimeInputType === 'date')
        "
      >
        {{ dialogModel | timeZone: timezone | amDateFormat: 'ddd, MMM D YYYY' }}
        <small *ngIf="dateTimeInputType === 'datetime'">
          {{ dialogModel | timeZone: timezone | amDateFormat: 'h:mm a' }}
        </small>
      </span>
      <span *ngIf="dialogModel && dateTimeInputType === 'time'">
        {{ dialogModel | timeZone: timezone | amDateFormat: 'h:mm a' }}
      </span>
      <span *ngIf="!dialogModel">No value</span>
    </h1>
  </div>
  <ngx-calendar
    [id]="id + '-cal'"
    *ngIf="dateTimeInputType === 'date' || dateTimeInputType === 'datetime'"
    (dateChange)="setDialogDate($event)"
    [minDate]="minDate"
    [maxDate]="maxDate"
    [ngModel]="dialogModel"
    [timezone]="timezone"
    [minView]="$any(precision)"
    name="calendar"
  >
  </ngx-calendar>
  <div
    class="time-row"
    *ngIf="dateTimeInputType === 'time' || dateTimeInputType === 'datetime'"
  >
    <div>
      <ngx-input
        ngxInputAttribute
        ngxAppearance
        ngxSize
        type="number"
        hint="Hour"
        [id]="id + '-hour'"
        [ngModel]="hour"
        min="1"
        max="12"
        (inputChange)="hourChanged($any($event))"
        [disabled]="isTimeDisabled('hour')"
      >
      </ngx-input>
    </div>
    <div>
      <ngx-input
        ngxInputAttribute
        ngxAppearance
        ngxSize
        type="number"
        hint="Minute"
        [id]="id + '-minute'"
        [ngModel]="minute"
        min="0"
        max="59"
        (inputChange)="minuteChanged($any($event))"
        [disabled]="isTimeDisabled('minute')"
      >
      </ngx-input>
    </div>
    <div>
      <button
        class="ampm"
        type="button"
        [class.selected]="amPmVal === 'AM'"
        (click)="onAmPmChange('AM')"
        [disabled]="isTimeDisabled('hour')"
      >
        AM
      </button>
      <button
        class="ampm"
        type="button"
        [class.selected]="amPmVal === 'PM'"
        (click)="onAmPmChange('PM')"
        [disabled]="isTimeDisabled('hour')"
      >
        PM
      </button>
    </div>
  </div>
  <nav role="navigation" class="ngx-dialog-footer">
    <div class="text-left">
      <button
        type="button"
        class="btn btn-link today-btn"
        (click)="selectCurrent()"
        [hidden]="isCurrent()"
      >
        Current
      </button>
    </div>
    <div class="text-right">
      <button type="button" class="btn btn-link clear-btn" (click)="clear()">
        Clear
      </button>
      <button type="button" class="btn btn-link apply-btn" (click)="apply()">
        Apply
      </button>
    </div>
  </nav>
</ng-template>
<ngx-input
  #input
  [ngxAppearance]="appearanceController.appearance"
  [ngxSize]="sizeController.size"
  [ngxAutosize]="autosizeController.ngxAutosize"
  [ngxAutofocus]="autofocusController.ngxAutofocus"
  [ngxMarginless]="marginlessController.ngxMarginless"
  ngxInputAttribute
  [minWidth]="inputAttributeController.minWidth"
  [id]="id + '-input'"
  [autocorrect]="false"
  [autocomplete]="false"
  [spellcheck]="false"
  [disabled]="inputAttributeController.disabled"
  [placeholder]="inputAttributeController.placeholder"
  [tabindex]="inputAttributeController.tabindex"
  [label]="label"
  [ngModel]="displayValue"
  [required]="inputAttributeController.required"
  [requiredIndicator]="inputAttributeController.requiredIndicator"
  (ngModelChange)="inputChanged($event)"
  (inputBlur)="onBlur($event)"
>
  <ngx-input-hint class="date-time-hint">
    <div *ngIf="inputAttributeController.hint">
      {{ inputAttributeController.hint }}
    </div>
    <div *ngIf="errorMsg" class="input-error">{{ errorMsg }}</div>
  </ngx-input-hint>
</ngx-input>
<button
  title="Show date/time selector"
  type="button"
  [disabled]="inputAttributeController.disabled"
  (click)="open()"
  [ngClass]="{
    'icon-calendar': dateTimeInputType === 'date',
    'icon-calendar-clock': dateTimeInputType === 'datetime',
    'icon-clock': dateTimeInputType === 'time'
  }"
  class="calendar-dialog-btn"
></button>
